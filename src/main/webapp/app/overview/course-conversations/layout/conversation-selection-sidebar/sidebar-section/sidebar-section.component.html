<div class="sidebar-section">
    <!-- Todo: Do not hide when popover is open-->
    <div class="section-header" (click)="isCollapsed = !isCollapsed" [attr.aria-expanded]="!isCollapsed">
        <div>
            <fa-icon [icon]="faChevronRight" [rotate]="!isCollapsed ? 90 : undefined"></fa-icon>
            <span>{{ label }}</span>
        </div>
        <div *ngIf="sectionButtons" class="interaction" (click)="$event.stopPropagation()">
            <ng-template [ngTemplateOutlet]="sectionButtons" [ngTemplateOutletContext]="{}"></ng-template>
        </div>
    </div>
    <div #collapse="ngbCollapse" [(ngbCollapse)]="isCollapsed">
        <ul class="conversation-list" *ngIf="conversations && conversations.length">
            <li
                *ngFor="let conversation of conversations; trackBy: conversationsTrackByFn"
                [conversation]="conversation"
                jhi-conversation-entry
                [isActive]="activeConversation && conversation && activeConversation.id! === conversation.id!"
                (click)="conversationSelected.emit(conversation)"
            ></li>
        </ul>
    </div>
</div>
